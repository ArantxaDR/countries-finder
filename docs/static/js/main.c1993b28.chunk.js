(this["webpackJsonpcountries-finder"]=this["webpackJsonpcountries-finder"]||[]).push([[0],{37:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},69:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(28),r=a.n(s),i=(a(37),a(9)),l=a(2),o=a(12),u=a.n(o),j=a(15),d=a(29),b=a(30),h=a(16),m=a.n(h),f=new(function(){function e(){Object(d.a)(this,e),this.apiUrl=void 0,this.apiUrl="https://restcountries.eu/rest/v2/"}return Object(b.a)(e,[{key:"getAllCountries",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(this.apiUrl+"all");case 2:return t=e.sent,a=t.data.map((function(e){return{name:e.name,alpha2Code:e.alpha2Code,flag:e.flag,population:e.population,capital:e.capital,region:e.region,subregion:e.subregion,area:e.area,currencies:e.currencies,languages:e.languages}})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCountriesByName",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(this.apiUrl+"name/"+t);case 2:return a=e.sent,n=a.data.map((function(e){return{name:e.name,alpha2Code:e.alpha2Code,flag:e.flag,population:e.population,capital:e.capital,region:e.region,subregion:e.subregion,area:e.area,currencies:e.currencies,languages:e.languages}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),p=function(e,t){var a=JSON.parse(localStorage.getItem(e));return null===a?t:a},O=function(e,t){localStorage.setItem(e,JSON.stringify(t))},x=(a(57),a(0));function v(e){var t=c.a.createRef(),a=c.a.createRef(),n=c.a.createRef();return Object(x.jsx)("section",{className:"wrapper",children:Object(x.jsxs)("form",{className:"form",children:[Object(x.jsx)("label",{htmlFor:"name",className:"form__label",children:"Country name"}),Object(x.jsx)("input",{type:"text",className:"form__input",id:"name",placeholder:"Find country by name",name:"name",ref:t}),Object(x.jsx)("label",{htmlFor:"region",className:"form__label",children:"Region"}),Object(x.jsxs)("select",{name:"region",id:"region",className:"form__input",ref:n,children:[Object(x.jsx)("option",{value:"All",children:"All"}),Object(x.jsx)("option",{value:"Africa",children:"Africa"}),Object(x.jsx)("option",{value:"Americas",children:"Americas"}),Object(x.jsx)("option",{value:"Asia",children:"Asia"}),Object(x.jsx)("option",{value:"Europe",children:"Europe"}),Object(x.jsx)("option",{value:"Oceania",children:"Oceania"})]}),Object(x.jsx)("label",{htmlFor:"language",className:"form__label",children:"Language"}),Object(x.jsx)("input",{type:"text",className:"form__input",id:"language",placeholder:"E.g japanese",name:"language",ref:a}),Object(x.jsxs)("button",{className:"form__btn",onClick:function(c){var s,r,i,l,o,u;c.preventDefault(),e.handleFilters({value:null===(s=t.current)||void 0===s?void 0:s.value,key:null===(r=t.current)||void 0===r?void 0:r.id}),e.handleFilters({value:null===(i=a.current)||void 0===i?void 0:i.value,key:null===(l=a.current)||void 0===l?void 0:l.id}),e.handleFilters({value:null===(o=n.current)||void 0===o?void 0:o.value,key:null===(u=n.current)||void 0===u?void 0:u.id})},children:["Search",Object(x.jsx)("i",{className:"material-icons",children:"search"})]})]})})}function g(e){return Object(x.jsxs)("header",{className:"App__header",children:[Object(x.jsx)("h1",{className:"App__header-title",children:"Countries finder"}),Object(x.jsx)(v,{handleFilters:e.handleFilters})]})}var _=a(8),N=a.p+"static/media/lupa.c1fba803.svg";a(59);function y(){return Object(x.jsxs)("div",{className:"loading__container",children:[Object(x.jsx)("img",{className:"loading__container-image",src:N,alt:"loading",title:"loading"}),Object(x.jsx)("p",{className:"loading__container-text",children:"Loading..."})]})}a(60);function C(e){var t=Object(n.useState)("black"),a=Object(i.a)(t,2),c=a[0],s=a[1],r=e.country;Object(n.useEffect)((function(){p("favoritCountries",[]).filter((function(e){return e.alpha2Code===r.alpha2Code})).length>0&&s("yellow")}),[r.alpha2Code]);var l=function(t){t.push(r),O("favoritCountries",t),s("yellow"),e.setFavs(t)},o=function(t){var a=t.filter((function(e){return e.alpha2Code!==r.alpha2Code}));O("favoritCountries",a),s("black"),e.setFavs(a)};return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("img",{src:r.flag,alt:"".concat(r.name," flag"),title:"".concat(r.name," flag"),className:"card__img"}),Object(x.jsx)("p",{className:"card__content",children:r.name}),Object(x.jsxs)("div",{className:"card__info",children:[Object(x.jsx)("button",{className:"card__info-btn",onClick:function(e){e.preventDefault();var t,a=p("favoritCountries",[]);a.length>0&&(t=a.find((function(e){return e.alpha2Code===r.alpha2Code}))),void 0===t?l(a):o(a)},children:Object(x.jsx)("i",{className:"material-icons",style:{color:c},children:"star"})}),Object(x.jsx)(_.b,{to:"/countries/".concat(r.name),className:"card__info-link",children:"View More"})]})]})}a(69);function F(e){var t=e.countries,a=null===t||void 0===t?void 0:t.map((function(t){return Object(x.jsx)(C,{country:t,setFavs:e.setFavs},t.alpha2Code)}));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_.b,{to:"/favcountries",children:Object(x.jsx)("h3",{className:"fav__link",children:"See favorites countries"})}),!0===e.isLoading?Object(x.jsx)(y,{}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("section",{className:"cards",children:a})})]})}var k=a(32);a(80);function A(e){if(void 0===e.country)return Object(x.jsx)("h1",{children:"Ups! Wrong path"});var t=e.country,a=[{country:t.alpha2Code,value:t.population}];return Object(x.jsxs)("section",{className:"details__wrapper",children:[Object(x.jsx)(_.b,{to:"/",className:"home_link",title:"Home",children:Object(x.jsxs)("button",{className:"home",children:["Home ",Object(x.jsx)("i",{className:"material-icons",children:"home"})]})}),Object(x.jsxs)("article",{className:"detail__container",children:[Object(x.jsx)("img",{className:"detail__img",src:t.flag,alt:"".concat(t.name," flag"),title:"".concat(t.name," flag")}),Object(x.jsxs)("div",{className:"country__details",children:[Object(x.jsxs)("div",{className:"country__details-text",children:[Object(x.jsx)("h2",{className:"country__details-text__title",children:t.name}),Object(x.jsxs)("h5",{className:"country__details-text__subtitle",children:["Capital: ",Object(x.jsx)("span",{children:t.capital})]}),Object(x.jsxs)("h5",{className:"country__details-text__subtitle",children:["Region: ",Object(x.jsx)("span",{children:t.region})]}),Object(x.jsxs)("h5",{className:"country__details-text__subtitle",children:["Sub Region: ",Object(x.jsx)("span",{children:t.subregion})]}),Object(x.jsxs)("h5",{className:"country__details-text__subtitle",children:["Population: ",Object(x.jsx)("span",{children:t.population})]}),Object(x.jsxs)("h5",{className:"country__details-text__subtitle",children:["Area: ",Object(x.jsx)("span",{children:t.area})]})]}),Object(x.jsxs)("div",{className:"country__details-text",children:[Object(x.jsxs)("h5",{className:"country__details-text__subtitle",children:["Currencies: ",Object(x.jsx)("span",{children:t.currencies[0].name})]}),Object(x.jsxs)("h5",{className:"country__details-text__subtitle",children:["Language: ",Object(x.jsx)("span",{children:t.languages[0].name})]})]})]}),Object(x.jsx)(k.WorldMap,{color:"darkred","value-suffix":"people",size:"responsive",data:a})]})]})}a(81);function S(){return Object(x.jsx)("div",{className:"footer",children:Object(x.jsxs)("p",{className:"footer__text",children:["Made with",Object(x.jsx)("span",{className:"material-icons footer_icon",children:"travel_explore"}),"by ArantxaDR \xa9 2021"]})})}a(82);function w(e){var t=e.favs.map((function(t){return Object(x.jsx)(C,{country:t,setFavs:e.setFavs},t.alpha2Code)}));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_.b,{to:"/",className:"home_link",title:"Home",children:Object(x.jsxs)("button",{className:"home  fav",children:["Home ",Object(x.jsx)("i",{className:"material-icons",children:"home"})]})}),Object(x.jsx)("section",{className:"cards",children:t})]})}a(83);var E=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),r=Object(i.a)(s,2),o=r[0],u=r[1],j=Object(n.useState)([]),d=Object(i.a)(j,2),b=d[0],h=d[1],m=Object(n.useState)(),v=Object(i.a)(m,2),_=v[0],N=v[1],y=Object(n.useState)(),C=Object(i.a)(y,2),k=C[0],E=C[1],R=Object(n.useState)(),H=Object(i.a)(R,2),L=H[0],U=H[1],J=Object(n.useState)(!1),M=Object(i.a)(J,2),B=M[0],D=M[1];Object(n.useEffect)((function(){D(!0),f.getAllCountries().then((function(e){c(e),u(e),D(!1)}))}),[]),Object(n.useEffect)((function(){var e=p("favoritCountries",[]);h(e)}),[]),Object(n.useEffect)((function(){D(!0),""!==_&&void 0!==_?f.getCountriesByName(_).then((function(e){I(e)})):void 0!==a&&I(a)}),[a,_,k,L]);var I=function(e){if("All"!==k&&void 0!==k){var t=e.filter((function(e){return e.region===k}));e=t}if(""!==L&&void 0!==L){var a=e.filter((function(e){return e.languages.some((function(e){return e.iso639_1===L}))}));e=a}u(e),W(),D(!1)},W=function(){var e={name:_,region:k,language:L},t=p("searchHistory",[]);t.push(e),O("searchHistory",t)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("main",{className:"App",children:[Object(x.jsx)(g,{handleFilters:function(e){"name"===e.key?N(e.value):"region"===e.key?E(e.value):"language"===e.key&&U(e.value)}}),Object(x.jsx)(l.a,{exact:!0,path:"/",children:Object(x.jsx)(F,{countries:o,setFavs:h,isLoading:B})}),Object(x.jsx)(l.a,{path:"/countries/:name",render:function(e){var t=e.match.params.name,n=null===a||void 0===a?void 0:a.find((function(e){return e.name===t}));return Object(x.jsx)(A,{country:n})}}),Object(x.jsx)(l.a,{path:"/favcountries",children:Object(x.jsx)(w,{favs:b,setFavs:h})})]}),Object(x.jsx)(S,{})]})};r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(_.a,{children:Object(x.jsx)(E,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.c1993b28.chunk.js.map